<div id="mapid_{{ctrl.panel.id}}" class="mapcontainer {{ctrl.saturationClass}}" ng-style="{height: ctrl.height}" STYLE="
  position: relative;
  clear: both;">

<div class='map-overlay map-scale bottom-right mapboxgl-ctrl-top-right'>
    <div class='map-overlay-inner nopadding'>
        <div class="scaleText">{{ctrl.panel.thredds.scale_max}}</div>
    <div class='scaleImageContainer'>
        <img class="scaleImage" src="{{ctrl.panel.thredds.url}}?REQUEST=GetLegendGraphic&COLORBARONLY=true&WIDTH=1&HEIGHT=398&PALETTE=sst_36&NUMCOLORBANDS=80"/>
    </div>
        <div class="scaleText">{{ctrl.panel.thredds.scale_min}}</div>
    </div>
</div>

<div class='mapboxgl-ctrl-top-left absolute'>
        <div class="steps">
            <label id="map_{{ctrl.panel.id}}_date"></label><br/>
        <button type="button" id="start_{{ctrl.panel.id}}" class="playstopbutton btn">&#9654;</button>
	    <button type="button" id="stop_{{ctrl.panel.id}}" class="playstopbutton btn btn-primary btn-small">&#9724;</button>
            <input id='map_{{ctrl.panel.id}}_slider' class="mapslider" type='range' value="0" min="0"/>
        </div>
    </div>
</div>

<div id="graphcontainer_{{ctrl.panel.id}}" class="graphcontainer" style="display: none; position: absolute; right: 5px; top: 10px; left: 5px; bottom: 0px" onclick="this.style.display = 'none'">
    <div id="graph_{{ctrl.panel.id}}" class="graph"/>
</div>
